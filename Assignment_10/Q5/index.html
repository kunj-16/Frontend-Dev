<!DOCTYPE html>
<html>
<head>
  <title>College Timetable Viewer</title>
  <style>
    body {
      font-family: Arial;
      padding: 20px;
    }

    #timetableBox {
      margin-top: 20px;
    }

    .card {
      border: 1px solid #ccc;
      padding: 12px;
      border-radius: 8px;
      margin: 10px 0;
      width: 350px;
      background: #fafafa;
    }
  </style>
</head>

<body>

<h2>College Timetable Viewer</h2>

<label>Select Day:</label>
<select id="daySelect">
  <option value="Monday">Monday</option>
  <option value="Tuesday">Tuesday</option>
  <option value="Wednesday">Wednesday</option>
  <option value="Thursday">Thursday</option>
  <option value="Friday">Friday</option>
  <option value="Saturday">Saturday</option>
  <option value="Sunday">Sunday</option>
</select>

<div id="timetableBox"></div>

<script>
  const API = "http://localhost:3005/timetable";

  document.getElementById("daySelect").addEventListener("change", function () {
    loadTimetable(this.value);
  });

  function loadTimetable(day) {
    fetch(API + "?day=" + day)
      .then(res => res.json())
      .then(data => {
        const box = document.getElementById("timetableBox");
        box.innerHTML = "";

        if (data.length === 0) {
          box.innerHTML = "<p>No classes today.</p>";
          return;
        }

        data.forEach(cls => {
          box.innerHTML += `
            <div class="card">
              <strong>${cls.subject}</strong><br>
              Faculty: ${cls.faculty}<br>
              Time: ${cls.time}
            </div>
          `;
        });
      });
  }

  // Load default (Monday)
  loadTimetable("Monday");
</script>

</body>
</html>
